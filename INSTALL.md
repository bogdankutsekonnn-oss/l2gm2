# Инструкция по установке и запуску

## Предварительные требования

- Node.js версии 18 или выше
- npm или yarn

## Шаги установки

### 1. Установка зависимостей

```bash
npm install
```

### 2. Запуск в режиме разработки

```bash
npm run dev
```

Откройте браузер и перейдите по адресу: `http://localhost:3000`

### 3. Сборка для production

```bash
npm run build
```

### 4. Предпросмотр production сборки

```bash
npm run preview
```

### 5. Генерация статического сайта

```bash
npm run generate
```

Сгенерированные файлы будут в папке `.output/public`

## Структура данных

### Добавление серверов

Редактируйте файл `data/servers.json`. Формат:

```json
{
  "id": 1,
  "name": "Название сервера",
  "url": "https://example.com",
  "chronicle": "Interlude",
  "rate": "x1",
  "startDate": "2026-01-30",
  "status": "premium",
  "badges": ["recommended", "hot-start"],
  "tags": ["Low рейты", "RVR"]
}
```

**Поля:**
- `id` - уникальный идентификатор
- `name` - название сервера
- `url` - ссылка на сервер
- `chronicle` - название хроники (должно совпадать с именем в `chronicles.json`)
- `rate` - рейт (например, "x1", "x100")
- `startDate` - дата старта в формате YYYY-MM-DD
- `status` - статус: `"premium"`, `"vip"`, `"top"` или `null`
- `badges` - массив бейджей: `"recommended"`, `"hot-start"`, `"bonus-start"`
- `tags` - массив тегов для фильтрации

### Добавление хроник

Редактируйте файл `data/chronicles.json`:

```json
{
  "id": "new-chronicle",
  "name": "Новая хроника",
  "slug": "new-chronicle"
}
```

После добавления автоматически создадутся страницы:
- `/chronicle/new-chronicle`
- `/chronicle/new-chronicle/rate/x1`
- `/chronicle/new-chronicle/rate/x3`
- ... (для всех рейтов из `rates.json`)

### Добавление рейтов

Редактируйте файл `data/rates.json`:

```json
{
  "id": "x200",
  "name": "x200",
  "slug": "x200",
  "range": "x100-x1000"
}
```

**Поля:**
- `id` - уникальный идентификатор
- `name` - отображаемое имя (например, "x200")
- `slug` - URL-слаг (например, "x200")
- `range` - диапазон для группировки (опционально)

После добавления автоматически создадутся страницы:
- `/rate/x200`
- `/chronicle/interlude/rate/x200`
- `/chronicle/c4/rate/x200`
- ... (для всех хроник из `chronicles.json`)

## Переменные окружения

Создайте файл `.env` в корне проекта:

```env
NUXT_PUBLIC_SITE_URL=https://l2gm.com
```

Эта переменная используется для генерации канонических URL.

## Решение проблем

### Ошибка импорта JSON файлов

Убедитесь, что файлы в папке `data/` имеют правильный формат JSON и валидны.

### Страницы не генерируются

Nuxt автоматически создаёт страницы на основе структуры папки `pages/`. Убедитесь, что:
- Файлы страниц находятся в правильных папках
- Имена файлов соответствуют структуре URL

### Стили не применяются

Проверьте, что:
- Файл `layouts/default.vue` содержит CSS переменные
- Шрифт Onest загружается из Google Fonts
- Нет конфликтов с Tailwind CSS (если используется)

## Дополнительная информация

Подробная документация находится в файле `README.md`.
